# ============================================================================
# ATOM Framework Environment Configuration
# Copy this file to .env and customize for your environment
# ============================================================================

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================
NODE_ENV=development
APP_NAME=ATOM Hello App
APP_VERSION=1.0.0
APP_URL=http://localhost:3000

# Server Configuration
SERVER_HOST=0.0.0.0
SERVER_PORT=3000
SERVER_TIMEOUT=30000

# ============================================================================
# VOILAJSX APPKIT MODULES (Used extensively in ATOM)
# ============================================================================

# Core AppKit Modules - Always Required
VOILA_AUTH_SECRET=your-super-secure-jwt-secret-key-minimum-32-characters-change-this-in-production

# Utils Module (utility.get()) - Safe property access, UUID, validation
UTILS_CACHE_SIZE=1000

# Config Module (configure.get()) - Environment parsing
CONFIG_VALIDATION_STRICT=true

# Logger Module (logger.get()) - Structured logging
LOG_LEVEL=info
LOG_COMPONENT_PREFIX=atom

# Error Module (error.get()) - HTTP error handling  
ERROR_INCLUDE_STACK=false
ERROR_CORRELATION_ID=true

# Security Module (security.get()) - Input sanitization, rate limiting
VOILA_SECURITY_CSRF_SECRET=your-csrf-secret-key-minimum-32-characters-for-form-protection
VOILA_SECURITY_ENCRYPTION_KEY=your-64-character-hex-encryption-key-for-aes256-data-protection-change-in-prod
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=100

# Note: STATELESS BACKEND - No session management needed

# ============================================================================
# DATABASE CONFIGURATION (Future ATOM scaling)
# ============================================================================

# Not used in hello app, but ATOM framework ready
# DATABASE_URL=postgresql://username:password@localhost:5432/atom_db

# ============================================================================
# CACHE & QUEUE (VoilaJSX AppKit Auto-Detection)
# ============================================================================

# Development: Memory-based (caching.get(), queuing.get())
# Production: Auto-detects REDIS_URL and scales automatically
# REDIS_URL=redis://localhost:6379

# ============================================================================
# STORAGE (VoilaJSX AppKit store.get())
# ============================================================================

# Development: Local file storage
# Production: Auto-detects cloud providers
# CLOUDFLARE_R2_BUCKET=your-bucket
# AWS_S3_BUCKET=your-bucket

# ============================================================================
# EMAIL (VoilaJSX AppKit emailing.get())  
# ============================================================================

# Production: Auto-detects providers
# RESEND_API_KEY=re_your_key
# SMTP_HOST=smtp.gmail.com

# ============================================================================
# MONITORING & HEALTH CHECKS
# ============================================================================

# Health Check Configuration
HEALTH_CHECK_TIMEOUT=5000
HEALTH_CHECK_INTERVAL=30000

# Performance Monitoring
MONITOR_ENABLED=true
MONITOR_INTERVAL=60000

# Metrics Collection
METRICS_ENABLED=true
METRICS_PREFIX=atom_hello

# ============================================================================
# SECURITY SETTINGS
# ============================================================================

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX_REQUESTS=100

# CORS Configuration
CORS_ORIGIN=http://localhost:3000
CORS_CREDENTIALS=true

# Security Headers
SECURITY_HELMET_ENABLED=true

# ============================================================================
# DEVELOPMENT SETTINGS
# ============================================================================

# Debug Mode
DEBUG=atom:*

# Development Tools
DEV_TOOLS_ENABLED=true
API_DOCS_ENABLED=true

# Hot Reload
WATCH_FILES=true

# ============================================================================
# TESTING CONFIGURATION
# ============================================================================

# Test Environment Overrides
# NODE_ENV=test
# LOG_LEVEL=silent
# MONITOR_ENABLED=false

# ============================================================================
# ATOM FRAMEWORK ROUTING CONVENTION (NextJS-style)
# ============================================================================

# Auto-Discovery: Scan src/features/ for folder patterns
FEATURES_AUTO_DISCOVERY=true

# Feature Naming Convention:
# - feature-name/ = ✅ ENABLED feature
# - _feature-name/ = ❌ DISABLED feature (underscore prefix)

# Routing Convention (NextJS-style folder → URL mapping):
# src/features/hello/main/           → /api/hello
# src/features/hello/@name/          → /api/hello/:name
# src/features/users/main/           → /api/users  
# src/features/users/@id/            → /api/users/:id
# src/features/users/@id/profile/    → /api/users/:id/profile
# src/features/orders/@id/@item/     → /api/orders/:id/:item

# Alternative Convention Options:
# Option 1: NextJS-style (RECOMMENDED)
ROUTING_CONVENTION=nextjs
# main/ = base route, @param/ = dynamic route

# Option 2: Folder-dash style  
# ROUTING_CONVENTION=dash
# hello/ → /hello, hello-name/ → /hello/:name

# Option 3: Square bracket style
# ROUTING_CONVENTION=brackets  
# hello/ → /hello, hello[name]/ → /hello/:name

FEATURE_URL_PREFIX=/api
ROUTING_DYNAMIC_PREFIX=@

# Feature Validation
FEATURE_CONTRACT_VALIDATION=strict
FEATURE_FILE_SIZE_LIMIT=800
FEATURE_TEST_COVERAGE_MIN=90

# Agent Orchestration  
AGENT_FEATURE_ASSIGNMENT=one-endpoint-per-agent
AGENT_MAX_CONCURRENT=4
AGENT_PARALLEL_SAFE=true

# ============================================================================
# PRODUCTION OVERRIDES
# ============================================================================

# Uncomment and customize for production deployment:

# NODE_ENV=production
# LOG_LEVEL=warn
# LOG_TRANSPORT=database
# CACHE_STRATEGY=redis
# QUEUE_STRATEGY=redis
# STORAGE_STRATEGY=cloudflare_r2
# RATE_LIMIT_MAX_REQUESTS=1000
# HEALTH_CHECK_INTERVAL=10000